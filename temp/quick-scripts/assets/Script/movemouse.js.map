{"version":3,"sources":["movemouse.js"],"names":["cc","Class","extends","Component","properties","pen","Node","bijian","bisheng","bixing","onLoad","director","getCollisionManager","enabled","mouseMove","touchMove2","self","canvas","find","node","on","EventType","TOUCH_START","event","location","getLocation","location2","convertToNodeSpaceAR","setPosition","Canvas","TOUCH_MOVE","onCollisionEnter","other","tag","color"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,aAAKL,GAAGM,IADA,EACM;AACdC,gBAAQP,GAAGM,IAFH,EAEQ;AAChBE,iBAASR,GAAGM,IAHJ,EAGS;AACjBG,gBAAQT,GAAGM,IAJH,CAIQ;AAJR,KAHP;;AAWLI,YAAQ,kBAAY;AAChBV,WAAGW,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C,CADgB,CACiC;AACjD,aAAKC,SAAL;AACA,aAAKC,UAAL;AACH,KAfI;AAgBLD,eAAW,qBAAY;AACnB;AACA,YAAIE,OAAO,IAAX;AACA,YAAIC,SAASjB,GAAGkB,IAAH,CAAQ,QAAR,CAAb;AACAF,aAAKG,IAAL,CAAUC,EAAV,CAAapB,GAAGM,IAAH,CAAQe,SAAR,CAAkBC,WAA/B,EAA4C,UAAUC,KAAV,EAAiB;AACzD,gBAAIC,WAAWD,MAAME,WAAN,EAAf;AACA,gBAAIC,YAAYV,KAAKG,IAAL,CAAUQ,oBAAV,CAA+BH,QAA/B,CAAhB;AACAR,iBAAKX,GAAL,CAASuB,WAAT,CAAqBF,SAArB;AACH,SAJD;AAMH,KA1BI;AA2BL;AACAX,gBAAY,sBAAY;AACpB,YAAIC,OAAO,IAAX;AACA,YAAIa,SAAS7B,GAAGkB,IAAH,CAAQ,QAAR,CAAb;AACAF,aAAKG,IAAL,CAAUC,EAAV,CAAapB,GAAGM,IAAH,CAAQe,SAAR,CAAkBS,UAA/B,EAA2C,UAAUP,KAAV,EAAiB;AACxD,gBAAIC,WAAWD,MAAME,WAAN,EAAf;AACA,gBAAIC,YAAYV,KAAKG,IAAL,CAAUQ,oBAAV,CAA+BH,QAA/B,CAAhB;AACAR,iBAAKX,GAAL,CAASuB,WAAT,CAAqBF,SAArB;AACH,SAJD;AAKH,KApCI;AAqCLK,sBAAkB,0BAAUC,KAAV,EAAiBhB,IAAjB,EAAuB;AACrC;AACA,YAAIgB,MAAMC,GAAN,GAAY,CAAhB,EAAmB;AACf,iBAAK1B,MAAL,CAAY2B,KAAZ,GAAoBF,MAAMb,IAAN,CAAWe,KAA/B;AACA,iBAAK1B,OAAL,CAAa0B,KAAb,GAAqB,KAAK3B,MAAL,CAAY2B,KAAjC;AACA,iBAAKzB,MAAL,CAAYyB,KAAZ,GAAoB,KAAK1B,OAAL,CAAa0B,KAAjC;AAEH;AACD,YAAIF,MAAMC,GAAN,GAAY,CAAZ,IAAiBD,MAAMC,GAAN,GAAY,EAAjC,EAAqC;AACjCD,kBAAMb,IAAN,CAAWe,KAAX,GAAmB,KAAK3B,MAAL,CAAY2B,KAA/B;AACH;AACJ;;AAhDI,CAAT","file":"movemouse.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pen: cc.Node, //让笔移动的节点\n        bijian: cc.Node,//让笔尖碰撞的节点\n        bisheng: cc.Node,//笔身颜色\n        bixing: cc.Node,//笔芯颜色\n    },\n\n\n    onLoad: function () {\n        cc.director.getCollisionManager().enabled = true;//打开碰撞\n        this.mouseMove();\n        this.touchMove2();\n    },\n    mouseMove: function () {\n        //鼠标移动节点跟随\n        var self = this;\n        var canvas = cc.find(\"Canvas\");\n        self.node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            var location = event.getLocation();\n            var location2 = self.node.convertToNodeSpaceAR(location);\n            self.pen.setPosition(location2);\n        }\n        )\n    },\n    //按下鼠标不放开时并且移动的让笔跟随\n    touchMove2: function () {\n        var self = this;\n        var Canvas = cc.find(\"Canvas\");\n        self.node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var location = event.getLocation();\n            var location2 = self.node.convertToNodeSpaceAR(location);\n            self.pen.setPosition(location2);\n        })\n    },\n    onCollisionEnter: function (other, self) {\n        //判断碰撞的节点标识\n        if (other.tag < 3) {\n            this.bijian.color = other.node.color;\n            this.bisheng.color = this.bijian.color;\n            this.bixing.color = this.bisheng.color;\n\n        }\n        if (other.tag > 9 && other.tag < 40) {\n            other.node.color = this.bijian.color;\n        }\n    },\n\n});\n"]}